<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up | GradMate</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="login.css">
    <style>
        .d-none { display: none !important; }
        .role-toggle-container {
            display: flex; background: #eef2f6; padding: 6px; border-radius: 16px;
            gap: 8px; box-shadow: inset 0 2px 5px rgba(0,0,0,0.03);
            border: 1px solid #eef2f6; margin-bottom: 25px;
        }
        .role-btn {
            flex: 1; border: none; background: transparent; padding: 12px;
            border-radius: 12px; font-size: 0.9rem; font-weight: 700; color: #64748b;
            display: flex; align-items: center; justify-content: center; gap: 8px;
            cursor: pointer; transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        .role-btn.active {
            background: #ffffff; color: #6c63ff; /* Matching your primary color */
            box-shadow: 0 4px 12px rgba(108, 99, 255, 0.15); transform: translateY(-1px);
        }
        .track-selector { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-bottom: 20px; }
        .track-checkbox { display: none; }
        .track-label {
            border: 2px solid #eef2f6; border-radius: 12px; padding: 15px 10px;
            text-align: center; cursor: pointer; transition: 0.3s;
        }
        .track-label i { display: block; font-size: 1.5rem; margin-bottom: 5px; color: #cbd5e1; }
        .track-label span { font-size: 0.75rem; font-weight: 700; color: #64748b; display: block;}
        .track-checkbox:checked + .track-label { border-color: #6c63ff; background: #f0f0ff; }
        .track-checkbox:checked + .track-label i { color: #6c63ff; }
        .track-checkbox:checked + .track-label span { color: #6c63ff; }
    </style>
</head>
<body>
    <div class="mesh-blob-1"></div>
    <div class="mesh-blob-2"></div>

    <div class="login-container">
        <div class="login-card shadow-lg">
            
            <div class="progress-stepper mb-4 d-flex justify-content-between position-relative">
                <div class="position-absolute top-50 start-0 w-100 bg-light" style="height:2px; z-index:1;"></div>
                <div class="step-dot active bg-primary text-white position-relative z-2 rounded-circle d-flex align-items-center justify-content-center fw-bold" style="width:35px; height:35px; z-index: 2;" id="dot-1">1</div>
                <div class="step-dot bg-light text-muted position-relative z-2 rounded-circle d-flex align-items-center justify-content-center fw-bold" style="width:35px; height:35px; z-index: 2;" id="dot-2">2</div>
            </div>

            <div class="text-center mb-4">
                <h3 class="fw-800" id="form-title">Create Account</h3>
                <p class="text-muted small" id="form-subtitle">Join the academic network today.</p>
            </div>

            <div class="role-toggle-container" id="roleContainer">
                <button type="button" class="role-btn active" data-role="student" onclick="setSignUpRole('student')">
                    <i class="fa-solid fa-user-graduate"></i> Student
                </button>
                <button type="button" class="role-btn" data-role="supervisor" onclick="setSignUpRole('supervisor')">
                    <i class="fa-solid fa-chalkboard-user"></i> Supervisor
                </button>
            </div>

            <form id="multiStepForm">
                <div id="step-1">
                    <div class="mb-3">
                        <label class="form-label fw-bold small">Full Name</label>
                        <div class="input-group-modern">
                            <i class="fa-regular fa-user"></i>
                            <input type="text" id="fullName" class="form-control" placeholder="David Ojo" required>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label fw-bold small">Email Address</label>
                        <div class="input-group-modern">
                            <i class="fa-regular fa-envelope"></i>
                            <input type="email" id="email" class="form-control" placeholder="example@gmail.com" required>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label fw-bold small">Password</label>
                        <div class="input-group-modern">
                            <i class="fa-solid fa-lock"></i>
                            <input type="password" id="pass" class="form-control" placeholder="••••••••" required>
                        </div>
                    </div>
                    <button type="button" class="btn btn-primary-gm w-100" onclick="nextStep()">Continue <i class="fa-solid fa-arrow-right ms-2"></i></button>
                    
                    <div class="text-center mt-3">
                        <p class="small text-muted">Already have an account? <a href="login.html" class="text-primary fw-bold">Login</a></p>
                    </div>
                </div>

                <div id="step-2-student" class="d-none">
                    <div class="mb-3">
                        <label class="form-label fw-bold small">Matric Number</label>
                        <div class="input-group-modern">
                            <i class="fa-solid fa-id-card"></i>
                            <input type="text" id="matric" class="form-control" placeholder="e.g. 2023/SCI/001">
                        </div>
                    </div>

                    <div class="mb-2">
                        <label class="form-label fw-bold small">Select Your Track(s)</label>
                        <div class="track-selector">
                            <label>
                                <input type="checkbox" class="track-checkbox" value="S">
                                <div class="track-label"><i class="fa-solid fa-briefcase"></i><span>SIWES</span></div>
                            </label>
                            <label>
                                <input type="checkbox" class="track-checkbox" value="P">
                                <div class="track-label"><i class="fa-solid fa-graduation-cap"></i><span>Project</span></div>
                            </label>
                            <label>
                                <input type="checkbox" class="track-checkbox" value="T">
                                <div class="track-label"><i class="fa-solid fa-chalkboard-user"></i><span>Teaching</span></div>
                            </label>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label class="form-label fw-bold small">University Name</label>
                        <div class="input-group-modern">
                            <i class="fa-solid fa-university"></i>
                            <input type="text" id="uni" class="form-control" placeholder="University of Lagos">
                        </div>
                    </div>

                    <div class="mb-3">
                        <label class="form-label fw-bold small">Faculty</label>
                        <div class="input-group-modern">
                            <i class="fa-solid fa-building-columns"></i>
                            <select class="form-control border-0 bg-transparent" id="faculty">
                                <option value="">Select Faculty</option>
                                <option>Engineering</option>
                                <option>Science</option>
                                <option>Social Sciences</option>
                                <option value="others">Others...</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-7 mb-3">
                            <label class="form-label fw-bold small">Department / Course</label>
                            <input type="text" id="program" class="form-control bg-light border-0 p-3" style="border-radius:12px" placeholder="e.g. Civil Eng.">
                        </div>
                        <div class="col-md-5 mb-3">
                            <label class="form-label fw-bold small">Level</label>
                            <select class="form-control bg-light border-0 p-3" style="border-radius:12px" id="level">
                                <option>100L</option>
                                <option>200L</option>
                                <option>300L</option>
                                <option>400L</option>
                                <option>500L</option>
                            </select>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-primary-gm w-100">Complete Registration</button>
                    <button type="button" class="btn btn-link w-100 mt-2 text-muted small" onclick="prevStep()">Go Back</button>
                </div>

                <div id="step-2-supervisor" class="d-none">
                    <div class="row mb-3">
                        <div class="col-4">
                            <label class="form-label fw-bold small">Title</label>
                            <select class="form-select bg-light border-0 py-2" id="supTitle">
                                <option>Dr.</option>
                                <option>Prof.</option>
                                <option>Engr.</option>
                                <option>Arch.</option>
                                <option>Mr.</option>
                                <option>Mrs.</option>
                            </select>
                        </div>
                        <div class="col-8">
                            <label class="form-label fw-bold small">Verify Full Name</label>
                            <input type="text" id="supFullNameDisplay" class="form-control bg-light border-0 py-2" placeholder="Name">
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label fw-bold small">University</label>
                        <input type="text" id="supUniInput" class="form-control bg-light border-0 py-2" placeholder="e.g. OAU Ile-Ife">
                    </div>
                    
                    <button type="submit" class="btn btn-primary-gm w-100">Register as Staff</button>
                    <button type="button" class="btn btn-link w-100 mt-2 text-muted small" onclick="prevStep()">Go Back</button>
                </div>
            </form> </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="signup.js"></script>
</body>
</html>